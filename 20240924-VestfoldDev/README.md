# Vestfold Dev, September 2024

This folder contains the samples shown at the Vestfold Dev meetup on the 25th of September 2024.
The talk was about Event Sourcing in general and then specifically on how to do this with [Cratis Chronicle](https://cratis.io).
Cratis Chronicle is open source and can be found [here](https://github.com/cratis/chronicle).

## Pre-requisites

* .NET 8
* Docker Desktop or similar

Also recommend having a desktop application for managing MongoDB, e.g. [Compass](https://www.mongodb.com/products/tools/compass).

## Presentation slides

The actual presentation slides can be found as a PDF [here](./Presentation/EventSourcing%20-%20Chronicle.pdf).

## Sample

Inside the Sample folder you'll find the actual sample. It has a `docker-compose.yml`file.
From this folder, run `docker compose up -d` (or equivalent in your preferred container software).
This will start the [Cratis Chronicle](https://cratis.io) developer image which also
contains a MongoDB instance within it, and also an instance of the [Microsoft Aspire Dashboard](https://learn.microsoft.com/en-us/dotnet/aspire/fundamentals/dashboard/overview?tabs=bash)
for Open Telemetry insights.

You can now run the sample from the `Main` folder by doing `dotnet run`.
The sample exposes a swagger endpoint for you to work with. Navigate to `http://localhost:5000/swagger`.
You can perform operations and you should be able to open the Chronicle workbench to see what is going on.

The Chronicle workbench is available by navigating your browser to `http://localhost:8080`.

In addition, you should be able to see read models generated by using a MongoDB desktop tool and navigate it to
`mongodb://localhost:27017`.

The sample contains different implementations, where most of them are commented out. The reason for this is
that they represent different approaches to get to the same result. Within Domain you'll find a `RulesFor<>`
implementation for guaranteeing a unique username, while this would be better implemented by a constraint, found
in the `Events` project.

Similar with the `Read` project, you'll find implementations for a reactor, a reducer and a projection.

